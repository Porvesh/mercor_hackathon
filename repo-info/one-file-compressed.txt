<?xml version='1.0' encoding='utf-8'?>
<source type="github_repository" url="https://github.com/matsuoka-601/WebGPU-Ocean"><file name="README.md"># webgpu-ocean real-time 3d fluid simulation implemented webgpu. works browsers support webgpu. [try demo here!](https://webgpu-ocean.netlify.app/) ![webgpu-ocean-demo](https://github.com/user-attachments/assets/5b008b16-7d46-4e09-af21-d70f6fa2ec20) following characteristics simulation. - [**moving least squares material point method (mls-mpm)**](https://yzhu.io/publication/mpmmls2018siggraph/paper.pdf) hu et al. implemented simulation. algorithm enabled real-time simulation **~100,000 particles integrated graphics** **~300,000 particles decent gpus** - [nialltl's article](https://nialltl.neocities.org/articles/mpm_guide) helped lot implementing mls-mpm. huge thanks them! - particle grid (p2g) stage implemented atomicadd. - **smoothed particle hydrodynamics (sph)** based [particle-based fluid simulation interactive applications](https://matthias-research.github.io/pages/publications/sca03.pdf) mller et al. also implemented. - enable sph simulation clicking "sph" button top right. - **fast neighborhood search gpu**, algorithm described [fast fixed-radius nearest neighbors: interactive million-particle fluids](https://ramakarl.com/pdfs/2014_hoetzlein_fastfixedradius_neighbors.pdf) used. - **screen-space fluid rendering** described [gdc 2010 slide](https://developer.download.nvidia.com/presentations/2010/gdc/direct3d_effects.pdf) used real-time rendering fluid. ## implementation details mls-mpm initially simulation project based **smoothed particle hydrodynamics (sph)**. however, since neighborhood search really expensive, maximum number particles simulated real-time 30,000 best integrated graphics. decided implement **moving least squares material point method (mls-mpm)** completely free neighborhood search. results good, enabling real-time simulations **~100,000 particles integrated graphics** **~300,000 particles decent gpus.** implementation mls-mpm based [nialltl's article](https://nialltl.neocities.org/articles/mpm_guide). according article, vanilla implementation mpm suitable real-time simulation since inaccuracy estimate volume forces timestep small. tackle problem, article suggests recalculating volume every simulation step. technique effective setting high timestep currently requires **2 simulation steps per frame.** (tbh bit large timestep occasionally simulation explodes) implementing 3d version nialltl's mls-mpm webgpu relatively straightforward, one difficult point : **particle grid (p2g) stage.** p2g stage, required scatter particle data grids parallel. standard way webgpu using `atomicadd`. however, since `atomicadd` exists 32bit integers, impossible directly use scatter data held floating-point number. avoid problem, **fixed-point number** used. is, data hold integers multiplied constant (e.g. `1e-7`) decode data floating-point numbers. way possible use `atomicadd` scattering particle data grids. (i discovered technique [pbmpm](https://github.com/electronicarts/pbmpm) repository, reference implementation [a position based material point method (siggraph 2024)](https://media.contentapi.ea.com/content/dam/ea/seed/presentations/seed-siggraph2024-pbmpm-paper.pdf) chris lewin. ) ## run ``` npm install npm run serve ``` trouble running repo, feel free open issue. ## todo - ~~implement mls-mpm~~ **done** - currently, bottleneck simulation neighborhood search sph. therefore, implementing mls-mpm would allow us handle even larger real-time simulation (with &gt; 100,000 particles?) since require neighborhood search. - actively learning mls-mpm. harder learning classical sph, help would appreciated :) - implement rendering method described [unified spray, foam bubbles particle-based fluids](https://cg.informatik.uni-freiburg.de/publications/2012_cgi_sprayfoambubbles.pdf) - would make simulation look spectacular! - suspect method might bit expensive real-time simulation since requires neighborhood search. cheaper way generate foams? - use better rendering method less artifacts like [narrow-range filter](https://dl.acm.org/doi/10.1145/3203201) - currently, artifacts derived bilateral filter rendered fluid. using narrow-range filter would reduce artifacts. ## known bug (feel free fix them!) - sph mode seems crash mac</file><file name="index.html">&lt;!doctype html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt; &lt;title&gt;webgpu-ocean&lt;/title&gt; &lt;style&gt; body, html { height: 100%; width: 100%; margin: 0; display: flex; justify-content: center; align-items: center; } canvas { width: 100%; height: 100%; } #ui-container { position: fixed; top: 0; left: 0; width: 300px; margin: 20px; } #number-container { position: fixed; top: 0; right: 0; margin: 20px; margin-right: 10px; font-size: 15px; width: 270px; } #debug-info { position: fixed; } #howto-container { position: fixed; bottom: 0; left: 0; width: 300px; margin: 20px; font-size: small; } #github-link { position:fixed; bottom: 0; right: 0; } .github-icon { position: absolute; bottom: 10px; right: 20px; font-size: 40px; color: black; } * { user-select: none; } &lt;/style&gt; &lt;link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="ui-container"&gt; &lt;div&gt; &lt;label&gt; &lt;input type="checkbox" id="particle"&gt; particles &lt;/label&gt; &lt;/div&gt; &lt;div id="slider-container"&gt; &lt;label for="slider"&gt;box width:&lt;/label&gt; &lt;input type="range" id="slider" min="0" max="100" value="100" /&gt; &lt;span id="slider-value"&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id="number-container"&gt; &lt;b&gt;simulation mode&lt;/b&gt; &lt;form id="simulation-mode" style="display: flex; gap: 10px;"&gt; &lt;label&gt;&lt;input type="radio" name="options" value="mlsmpm" checked&gt;mls-mpm&lt;/label&gt;&lt;br&gt; &lt;label&gt;&lt;input type="radio" name="options" value="sph"&gt;sph&lt;/label&gt;&lt;br&gt; &lt;/form&gt; &lt;b&gt;number particles&lt;/b&gt; &lt;form id="number-button"&gt; &lt;label&gt;&lt;input type="radio" name="options" value="0"&gt; small (&lt;span id="small-value"&gt;&lt;/span&gt; particles)&lt;/label&gt;&lt;br&gt; &lt;label&gt;&lt;input type="radio" name="options" value="1" checked&gt; medium (&lt;span id="medium-value"&gt;&lt;/span&gt; particles)&lt;/label&gt;&lt;br&gt; &lt;label&gt;&lt;input type="radio" name="options" value="2"&gt; large (&lt;span id="large-value"&gt;&lt;/span&gt; particles)&lt;/label&gt;&lt;br&gt; &lt;label&gt;&lt;input type="radio" name="options" value="3"&gt; large (&lt;span id="very-large-value"&gt;&lt;/span&gt; particles)&lt;/label&gt;&lt;br&gt; &lt;/form&gt; &lt;/div&gt; &lt;div id="howto-container"&gt; &lt;div&gt; &lt;b&gt;drag&lt;/b&gt; move camera &lt;/div&gt; &lt;div&gt; &lt;b&gt;scroll&lt;/b&gt; zoom &lt;/div&gt; &lt;/div&gt; &lt;div id="debug-info"&gt; &lt;span id="error-reason"&gt;loading now...(won't take longer 10 seconds guess)&lt;/span&gt; &lt;/div&gt; &lt;a href="https://github.com/matsuoka-601/webgpu-ocean" class="github-icon" target="_blank" rel="noopener noreferrer"&gt; &lt;i class="fab fa-github"&gt;&lt;/i&gt; &lt;/a&gt; &lt;canvas id="fluidcanvas"&gt;&lt;/canvas&gt; &lt;script type="module" src="main.ts"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</file><file name="package-lock.json">{ "name": "webgpu-3d-water", "lockfileversion": 3, "requires": true, "packages": { "": { "devdependencies": { "@webgpu/types": "^0.1.51", "typescript": "^5.7.2", "vite": "^6.0.3", "vite-plugin-glsl": "^1.3.1", "webgpu-radix-sort": "^1.0.7", "wgpu-matrix": "^3.3.0" } }, "node_modules/@esbuild/aix-ppc64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.24.0.tgz", "integrity": "sha512-wtkdfm7ls47zkkhfvzmz8opm7lkcsip9amdubiawirg70rm71wrsjdilpsy5uv1d42zpufapildlfacthgsrkw==", "cpu": [ "ppc64" ], "dev": true, "license": "mit", "optional": true, "os": [ "aix" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/android-arm": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.24.0.tgz", "integrity": "sha512-arattpo76fj/ickxwetlcc9ewehkaeya4vmrrevleiucaunch7m4bhmq+m9vf+ffozjdtnmxnbrwww+oxwpsew==", "cpu": [ "arm" ], "dev": true, "license": "mit", "optional": true, "os": [ "android" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/android-arm64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.24.0.tgz", "integrity": "sha512-vsm497xfm7ttipyk9bntyjyf/lsp590qc1wxjdlb6ljcbdzku9sy8i7+iin4kyhv/kv5j2roksbqbb77ab7l/w==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "android" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/android-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.24.0.tgz", "integrity": "sha512-t8grvnfkiiy7pa7mmgjd7p8p8qqyiz1nyiaokc75zyv73l3dzw++oymshprarcottkuss6m3htoa5ckhas02tq==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "android" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/darwin-arm64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.24.0.tgz", "integrity": "sha512-ckydprbk1hxwv79soetjnhb5eig6ct3efd/ftpdzowdbzzfghpbcqipid0+vwmpu0wtil97zrpzu8vut46nbsw==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "darwin" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/darwin-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.24.0.tgz", "integrity": "sha512-rgtz6flkvkh58od4pwtrqxbkh9cojaxcmzgwd905jozjfkw+7eiuobfd/kav+a6gyud6wzk9w+xu6qlytdi2oa==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "darwin" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/freebsd-arm64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.24.0.tgz", "integrity": "sha512-6mtdq5nhggwfdnlahkplylbpe5l6hwsuxzx8xnmhno9jul2+bg2bx5trkwjyfn6skbxztq68suojgwqcicvpxa==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "freebsd" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/freebsd-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.24.0.tgz", "integrity": "sha512-d3h+xh3/zphox8ck4s2rxkr6ghlhdxxzof6f/9dbft/nrbdie33+cva49kil4wujxmgw0ziybytagca2+osqwq==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "freebsd" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-arm": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.24.0.tgz", "integrity": "sha512-gjkii2ijro5g6glxb8d3dzyxlxdej2nlkixpsqepszmhludqphtz4burpiutjjyxxvf9njql+vrjb2oac9xpbw==", "cpu": [ "arm" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-arm64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.24.0.tgz", "integrity": "sha512-tdijpxtoee3eamkrypcy3larig13ds9wwhrdwyrnzlwla370rndzqbcp0wtyyv/k2zsxfko52+c7ju5f9tfj1g==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-ia32": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.24.0.tgz", "integrity": "sha512-k40ip1laca0byl05tbcq4yj4swvnbzhscrmuilrmp9am7//0ujpreh4lpyzvtht2quw66mhjg//20mrufm40ma==", "cpu": [ "ia32" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-loong64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.24.0.tgz", "integrity": "sha512-0mswryp/9ai+cu0bzbfpmz8rvm3rgan/lmomgw4afusoqbja31up8mr6ddhwsumwj7jawot0p0woz6jehhrd7g==", "cpu": [ "loong64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-mips64el": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.24.0.tgz", "integrity": "sha512-hikvxm0/3w/5+rdtcjexqmzgki2s4omugj3/jm0qzhgiaswrgo5/rlzazm5nnh/awhe0a19h/cvhqe6fabnrra==", "cpu": [ "mips64el" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-ppc64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.24.0.tgz", "integrity": "sha512-hczh5bnq0ac52uoocjxakorffodwxzxtbaaznun3pux3modschszqopzi5uuprhphsehotoiptqikjn/b77myq==", "cpu": [ "ppc64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-riscv64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.24.0.tgz", "integrity": "sha512-beh7dmn/h3qxer2kty1duszqjurihpzkyo6an1x4bcnhfyhuqqedhaa5mxsqa/06j3gpiilfgssy1c7gf9padw==", "cpu": [ "riscv64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-s390x": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.24.0.tgz", "integrity": "sha512-zcq6+qrkw1uczgpyrcihhkmbaj9sicd8oqd556hldp+qlpuie2wgn3ehqgvopovzvthm8hpx+bh20c9pvbkx3g==", "cpu": [ "s390x" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/linux-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.24.0.tgz", "integrity": "sha512-vbutsfqq+foy3wssbmjbxxij6pl3scghjom8zcl142cgazkadczhyf+bpu/mmx9zt9q0zfbvkb36ma5fzfa8xa==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/netbsd-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.24.0.tgz", "integrity": "sha512-hjq0r/ulko8fcyfsg0fzoh+pwgttdreqpqy7unqntnakv95up5iw3+dchxnx7c3trqqu40s+ogwhuvwcjvflvg==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "netbsd" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/openbsd-arm64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.24.0.tgz", "integrity": "sha512-md9uzzkpqbyehwcn583yx3tu5m8eiotd+tugkf982wyl9pf5rky9ltgd0eugs8pvknmizxjxzylt0z6dc3rrxg==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "openbsd" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/openbsd-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.24.0.tgz", "integrity": "sha512-4ir0ay1nguhic1hdoczr1+5b43mw99unwvzhiq1oy3qcewpdo3b7wnxbzaky5nsf1+n11i1eoffcq+d/gos15q==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "openbsd" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/sunos-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.24.0.tgz", "integrity": "sha512-jvzdzsbm5xroth+w5f1s+jtuy1uwgju0cf4wmvfftb8m6wp5/kx0kialhlbjo+dmgtxkv8rq/jvtlfcdz1zcpa==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "sunos" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/win32-arm64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.24.0.tgz", "integrity": "sha512-ikc8gaslzrpbyto2/an3d2yb2z8xtvfnv0pjglcxko5sgwmnxx82i/q3ag1tffs+a2igvcy97tj8tnywpuwlca==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "win32" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/win32-ia32": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.24.0.tgz", "integrity": "sha512-vqw36kzolfiudcctnatpmlq24ha1rjygbo39/alkm2kmjkwmzgej5gn9l5/7tzxa42qgiowbicfg6kllkiw6yw==", "cpu": [ "ia32" ], "dev": true, "license": "mit", "optional": true, "os": [ "win32" ], "engines": { "node": "&gt;=18" } }, "node_modules/@esbuild/win32-x64": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.24.0.tgz", "integrity": "sha512-7iafprjsqijrgsk6flwg7nfmwbostyf3rl7if0hnufqu4iltsepl6gumuu9bfiwvvgurnuiidksmc+c0otu8ia==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "win32" ], "engines": { "node": "&gt;=18" } }, "node_modules/@rollup/pluginutils": { "version": "5.1.3", "resolved": "https://registry.npmjs.org/@rollup/pluginutils/-/pluginutils-5.1.3.tgz", "integrity": "sha512-pnsb6f32cd2w3ucalzizdmefyq2b8uwmfi7xtwuezpcgbdvdw6y9xgawilarigao6enf5fk5aqtr0lfynyqq5a==", "dev": true, "license": "mit", "dependencies": { "@types/estree": "^1.0.0", "estree-walker": "^2.0.2", "picomatch": "^4.0.2" }, "engines": { "node": "&gt;=14.0.0" }, "peerdependencies": { "rollup": "^1.20.0||^2.0.0||^3.0.0||^4.0.0" }, "peerdependenciesmeta": { "rollup": { "optional": true } } }, "node_modules/@rollup/rollup-android-arm-eabi": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.28.1.tgz", "integrity": "sha512-2azp8aes04ki2dy3ss6/mdjxbwbzj+i0gqktwxgw2/ma6e4jjvujryo6gjaghirvz7vwr9gtl/8na3ndukpraq==", "cpu": [ "arm" ], "dev": true, "license": "mit", "optional": true, "os": [ "android" ] }, "node_modules/@rollup/rollup-android-arm64": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.28.1.tgz", "integrity": "sha512-ebkk285o+1ymrg57xva+dp0tdbrb93/bzkph9xhmjezf6f4tpyjausupt5j0fzxlsag0lmzastmdggqpp4pqfa==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "android" ] }, "node_modules/@rollup/rollup-darwin-arm64": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.28.1.tgz", "integrity": "sha512-prduvrmku6nzmq6nxzqw445zxgadbbmqvmksjaxpaz5r1qdm8w+egxo6y/jht/clocvnzi42oeqf9kqnyz1fqq==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "darwin" ] }, "node_modules/@rollup/rollup-darwin-x64": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.28.1.tgz", "integrity": "sha512-wsvbounsuk0wcco/tv4o7ikgloj942hvfk1clatwv6tjspcczb9umqkpdvb7fihmdxgakr5jyxdjwpcop4uzlq==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "darwin" ] }, "node_modules/@rollup/rollup-freebsd-arm64": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.28.1.tgz", "integrity": "sha512-htdpdy1caucu4qk23feegxcdjf64ckkqaju0ibntvxs8f7h/7bewvyog+va1kpsl63kq1pgnyiwkofreavzvna==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "freebsd" ] }, "node_modules/@rollup/rollup-freebsd-x64": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.28.1.tgz", "integrity": "sha512-m/uyasxkuevcftersm9telype2qduqtjkeotpp9sw0xxuwfcyrgdmko/m2ttw+4nmaf9p2fu3mw4ahnvo7qmsq==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "freebsd" ] }, "node_modules/@rollup/rollup-linux-arm-gnueabihf": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.28.1.tgz", "integrity": "sha512-qag11zit6mcmzpne6jzbpkfjakkqtm1a9+y9o+frdzjeuhqxiugm05gncwianhj4rmbgevjptdmkrmh/a+0qba==", "cpu": [ "arm" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-arm-musleabihf": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.28.1.tgz", "integrity": "sha512-drp9pebfolq1dmmcfqbepsd9vlruvwegsmbxvefiq2cs2jlzal0ynxfzaqs2orqmslblaatdmb3z6mfv5vocxg==", "cpu": [ "arm" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-arm64-gnu": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.28.1.tgz", "integrity": "sha512-ugr8khxo+ckt4xu8zuh1tteutlktk6kgtv0+6bifseislngjhg1tsfsjm41uq9sao/5ulx9mwoz70jylyv1qka==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-arm64-musl": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.28.1.tgz", "integrity": "sha512-qf54q8mygaqmlrx2t7tnpi01nvq5ri59ubnx+3+37zokx5kvipo/gk2qlhsuqok05sscrluj0d00lzcwbikb0a==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-loongarch64-gnu": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loongarch64-gnu/-/rollup-linux-loongarch64-gnu-4.28.1.tgz", "integrity": "sha512-vpul4uodvwvlhrco2w0gcyzcdybfpfdrgnku+p35awebj/hps1tourksuevbbs0rqhaf/a+nntdpvw95pevkoa==", "cpu": [ "loong64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-powerpc64le-gnu": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-powerpc64le-gnu/-/rollup-linux-powerpc64le-gnu-4.28.1.tgz", "integrity": "sha512-ptntdbuc2+pt1rmm2sv7jwrqzhypeilml4pkodqlz+c7ou2apev52h19cr7es+u04klqplggmn9sqzlekg3r1a==", "cpu": [ "ppc64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-riscv64-gnu": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.28.1.tgz", "integrity": "sha512-vwxy1nfg7tpbsuancfinmai/wzdd5voklyljddirkabczwojndy0njwruy2acnclnrjksabgf/gijfauu8cqza==", "cpu": [ "riscv64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-s390x-gnu": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.28.1.tgz", "integrity": "sha512-/yqc2y53ozjb0yz8pvugoqqnotwxcizudunl/tfs1alvobtcltwz0jhxf2xcpt/zuaymemcdsuuupxjjyqedog==", "cpu": [ "s390x" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-x64-gnu": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.28.1.tgz", "integrity": "sha512-fzgeabz7rralkyb0y2kseiurri0691csl0+kxwkwhxvj92vuledqlpbylhpf49msipg4sq5ck3qhmnb9tlcjbw==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-linux-x64-musl": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.28.1.tgz", "integrity": "sha512-xqtdvzsgimlsshpjctudbwyrflanivpxt1wgdwtwwz9n0u12ci2zvtwe/jgwyv/6wjl7b66uu61vg0powvfz4g==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "linux" ] }, "node_modules/@rollup/rollup-win32-arm64-msvc": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.28.1.tgz", "integrity": "sha512-wsxmdrvupjstfp7elgmgv+2hqxelqhunf+is4v+nupnvi/guibgdmfwd0ugn3pcanwsgkg3i52wmobnk1vhr/a==", "cpu": [ "arm64" ], "dev": true, "license": "mit", "optional": true, "os": [ "win32" ] }, "node_modules/@rollup/rollup-win32-ia32-msvc": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.28.1.tgz", "integrity": "sha512-zkytj/9vkgre/rk9vhmxhf8l9d+eahbavbsgsxky2ohmjawg0lpqlnixrdrp/bkyr8txuplxhiogleb5xpjnga==", "cpu": [ "ia32" ], "dev": true, "license": "mit", "optional": true, "os": [ "win32" ] }, "node_modules/@rollup/rollup-win32-x64-msvc": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.28.1.tgz", "integrity": "sha512-zvk2jbafvttjjoidkm/q/bh7ij1ose9ibowpoxcovw3ikgtqgmkdgxtc6ocazw6pynbkkp8+um1du81xjhz0ja==", "cpu": [ "x64" ], "dev": true, "license": "mit", "optional": true, "os": [ "win32" ] }, "node_modules/@types/estree": { "version": "1.0.6", "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.6.tgz", "integrity": "sha512-aynb1nqyy49te+vravgmzfcgjys91my5p0tkudclem+gnna+3t6rwitxrlycpahpqsqbn5ce+ghpnpyxjhwxcw==", "dev": true, "license": "mit" }, "node_modules/@webgpu/types": { "version": "0.1.51", "resolved": "https://registry.npmjs.org/@webgpu/types/-/types-0.1.51.tgz", "integrity": "sha512-ktr3u64npjwivincck+z9qeyn0ipkqcuoq07zcv1rzlkfp+ollteez95o1qhs+v4w9vjey9xj/ujusphshy5rq==", "dev": true, "license": "bsd-3-clause" }, "node_modules/esbuild": { "version": "0.24.0", "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.24.0.tgz", "integrity": "sha512-fulpevchgdshgsicjissoou0cemp/sgxr841d5lhmb7mtvomsehcaxah3irl53+8ydievnqeysh4dayu/iupqq==", "dev": true, "hasinstallscript": true, "license": "mit", "bin": { "esbuild": "bin/esbuild" }, "engines": { "node": "&gt;=18" }, "optionaldependencies": { "@esbuild/aix-ppc64": "0.24.0", "@esbuild/android-arm": "0.24.0", "@esbuild/android-arm64": "0.24.0", "@esbuild/android-x64": "0.24.0", "@esbuild/darwin-arm64": "0.24.0", "@esbuild/darwin-x64": "0.24.0", "@esbuild/freebsd-arm64": "0.24.0", "@esbuild/freebsd-x64": "0.24.0", "@esbuild/linux-arm": "0.24.0", "@esbuild/linux-arm64": "0.24.0", "@esbuild/linux-ia32": "0.24.0", "@esbuild/linux-loong64": "0.24.0", "@esbuild/linux-mips64el": "0.24.0", "@esbuild/linux-ppc64": "0.24.0", "@esbuild/linux-riscv64": "0.24.0", "@esbuild/linux-s390x": "0.24.0", "@esbuild/linux-x64": "0.24.0", "@esbuild/netbsd-x64": "0.24.0", "@esbuild/openbsd-arm64": "0.24.0", "@esbuild/openbsd-x64": "0.24.0", "@esbuild/sunos-x64": "0.24.0", "@esbuild/win32-arm64": "0.24.0", "@esbuild/win32-ia32": "0.24.0", "@esbuild/win32-x64": "0.24.0" } }, "node_modules/estree-walker": { "version": "2.0.2", "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz", "integrity": "sha512-rfkk/mp/dl7jvje3u18fxfujqltnr2q6qfmsmb7avcbx91ngj/ba3kcfza0f6dvdbw7ylrf/ndrn7pqrccyq/w==", "dev": true, "license": "mit" }, "node_modules/fsevents": { "version": "2.3.3", "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz", "integrity": "sha512-5xodfx+fl7faatnagmwppbftwh/r77wmmmqqhgs65c3vvb0yhrgf+b1ymz3441tmj5n63k0212xnojwzlhffqw==", "dev": true, "hasinstallscript": true, "license": "mit", "optional": true, "os": [ "darwin" ], "engines": { "node": "^8.16.0 || ^10.6.0 || &gt;=11.0.0" } }, "node_modules/nanoid": { "version": "3.3.8", "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.8.tgz", "integrity": "sha512-wnlf5sd8ozxom+tzppcyk8gvogp+l58xny58d0nbunoxowrwvlccv4kuf7ltmi6psrll/bgkeys4mqsgchfn0w==", "dev": true, "funding": [ { "type": "github", "url": "https://github.com/sponsors/ai" } ], "license": "mit", "bin": { "nanoid": "bin/nanoid.cjs" }, "engines": { "node": "^10 || ^12 || ^13.7 || ^14 || &gt;=15.0.1" } }, "node_modules/picocolors": { "version": "1.1.1", "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz", "integrity": "sha512-xceh2snhtb5m9liqdsmew56le376mtzkex/jeb/rxnfyegnul7enslcxp9fdj/lcu0x8keymcep2ntpahrdeva==", "dev": true, "license": "isc" }, "node_modules/picomatch": { "version": "4.0.2", "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.2.tgz", "integrity": "sha512-m7bav6rlcy5u+m6ophapfgjtzaiox/6b0dxyvdlo9l8+t3nlkbrczg2wluyzd45l8rqfumygpzekbmvx2ldkwg==", "dev": true, "license": "mit", "engines": { "node": "&gt;=12" }, "funding": { "url": "https://github.com/sponsors/jonschlinkert" } }, "node_modules/postcss": { "version": "8.4.49", "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.4.49.tgz", "integrity": "sha512-ocvpniobs4n29kxtjzlfuryokvzeq+pf8jtf0lg8e7uetuwha+v7j3c/xjmiqpx450191llmzfukkxxktry7na==", "dev": true, "funding": [ { "type": "opencollective", "url": "https://opencollective.com/postcss/" }, { "type": "tidelift", "url": "https://tidelift.com/funding/github/npm/postcss" }, { "type": "github", "url": "https://github.com/sponsors/ai" } ], "license": "mit", "dependencies": { "nanoid": "^3.3.7", "picocolors": "^1.1.1", "source-map-js": "^1.2.1" }, "engines": { "node": "^10 || ^12 || &gt;=14" } }, "node_modules/rollup": { "version": "4.28.1", "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.28.1.tgz", "integrity": "sha512-61fxyl/qnvinkmgsthaz6yy8i3yijc/r2m9feho6swvavclt5mpwoufe7euura/4m0nr8lxg4bbxuo/izesjmg==", "dev": true, "license": "mit", "dependencies": { "@types/estree": "1.0.6" }, "bin": { "rollup": "dist/bin/rollup" }, "engines": { "node": "&gt;=18.0.0", "npm": "&gt;=8.0.0" }, "optionaldependencies": { "@rollup/rollup-android-arm-eabi": "4.28.1", "@rollup/rollup-android-arm64": "4.28.1", "@rollup/rollup-darwin-arm64": "4.28.1", "@rollup/rollup-darwin-x64": "4.28.1", "@rollup/rollup-freebsd-arm64": "4.28.1", "@rollup/rollup-freebsd-x64": "4.28.1", "@rollup/rollup-linux-arm-gnueabihf": "4.28.1", "@rollup/rollup-linux-arm-musleabihf": "4.28.1", "@rollup/rollup-linux-arm64-gnu": "4.28.1", "@rollup/rollup-linux-arm64-musl": "4.28.1", "@rollup/rollup-linux-loongarch64-gnu": "4.28.1", "@rollup/rollup-linux-powerpc64le-gnu": "4.28.1", "@rollup/rollup-linux-riscv64-gnu": "4.28.1", "@rollup/rollup-linux-s390x-gnu": "4.28.1", "@rollup/rollup-linux-x64-gnu": "4.28.1", "@rollup/rollup-linux-x64-musl": "4.28.1", "@rollup/rollup-win32-arm64-msvc": "4.28.1", "@rollup/rollup-win32-ia32-msvc": "4.28.1", "@rollup/rollup-win32-x64-msvc": "4.28.1", "fsevents": "~2.3.2" } }, "node_modules/source-map-js": { "version": "1.2.1", "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz", "integrity": "sha512-uxwmkhlowvkb728iutqpxxfyu+usdybturk/8uge8cqmvrhopwvzdbwj0qhsl7mqc7visisbg8vq8+idqxpfqa==", "dev": true, "license": "bsd-3-clause", "engines": { "node": "&gt;=0.10.0" } }, "node_modules/typescript": { "version": "5.7.2", "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.7.2.tgz", "integrity": "sha512-i5t66rhxdvvn40hfdd1psethgnnlmcmt3jmuuoh9/0taqwevnontacunwyn02la9/fibewlchzcgtkb9qoalfg==", "dev": true, "license": "apache-2.0", "bin": { "tsc": "bin/tsc", "tsserver": "bin/tsserver" }, "engines": { "node": "&gt;=14.17" } }, "node_modules/vite": { "version": "6.0.3", "resolved": "https://registry.npmjs.org/vite/-/vite-6.0.3.tgz", "integrity": "sha512-cmuo5p0entn6hxlso6ihsjcln/81vgrp81oaiffmra8ggdj5xejicepf2zymztzr8ou0p2jx5wuup/rlxchkaw==", "dev": true, "license": "mit", "dependencies": { "esbuild": "^0.24.0", "postcss": "^8.4.49", "rollup": "^4.23.0" }, "bin": { "vite": "bin/vite.js" }, "engines": { "node": "^18.0.0 || ^20.0.0 || &gt;=22.0.0" }, "funding": { "url": "https://github.com/vitejs/vite?sponsor=1" }, "optionaldependencies": { "fsevents": "~2.3.3" }, "peerdependencies": { "@types/node": "^18.0.0 || ^20.0.0 || &gt;=22.0.0", "jiti": "&gt;=1.21.0", "less": "*", "lightningcss": "^1.21.0", "sass": "*", "sass-embedded": "*", "stylus": "*", "sugarss": "*", "terser": "^5.16.0", "tsx": "^4.8.1", "yaml": "^2.4.2" }, "peerdependenciesmeta": { "@types/node": { "optional": true }, "jiti": { "optional": true }, "less": { "optional": true }, "lightningcss": { "optional": true }, "sass": { "optional": true }, "sass-embedded": { "optional": true }, "stylus": { "optional": true }, "sugarss": { "optional": true }, "terser": { "optional": true }, "tsx": { "optional": true }, "yaml": { "optional": true } } }, "node_modules/vite-plugin-glsl": { "version": "1.3.1", "resolved": "https://registry.npmjs.org/vite-plugin-glsl/-/vite-plugin-glsl-1.3.1.tgz", "integrity": "sha512-iclii8idb9x0m6ns0yi2cwwxbbut5ekkw5kxsauru4rjsne4oypxkxe7jx0xmoyqij2s8wl0zlfou801mpkreg==", "dev": true, "license": "mit", "dependencies": { "@rollup/pluginutils": "^5.1.0" }, "engines": { "node": "&gt;= 16.15.1", "npm": "&gt;= 8.11.0" }, "peerdependencies": { "vite": "^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0" } }, "node_modules/webgpu-radix-sort": { "version": "1.0.7", "resolved": "https://registry.npmjs.org/webgpu-radix-sort/-/webgpu-radix-sort-1.0.7.tgz", "integrity": "sha512-spuj3bw5+01dsrbprsr4hxtcu/ofj6qotbktiyfv0oqtmpj7eyk5i2cddehq1f24cqientuoebjl7uzvkikr0a==", "dev": true, "license": "mit" }, "node_modules/wgpu-matrix": { "version": "3.3.0", "resolved": "https://registry.npmjs.org/wgpu-matrix/-/wgpu-matrix-3.3.0.tgz", "integrity": "sha512-mrdywxdztwx9pvbo5z/orx9l7464wkfv28glg1c7t7s5v/0dvts6yv8b4aototl1udgq9kueaosn6kw5p12ruq==", "dev": true, "license": "mit" } } }</file><file name="package.json">{ "type": "module", "scripts": { "build": "npx vite build", "serve": "npx vite" }, "devdependencies": { "@webgpu/types": "^0.1.51", "typescript": "^5.7.2", "wgpu-matrix": "^3.3.0", "vite": "^6.0.3", "vite-plugin-glsl": "^1.3.1", "webgpu-radix-sort": "^1.0.7" } }</file><file name="public/cubemap/README.md">cubemap image : "industrial sunset 02 (pure sky) " jarod guest sergej majboroda, licensed cc0. source: https://polyhaven.com/a/industrial_sunset_02_puresky</file><file name="tsconfig.json">{ "compileroptions": { "target": "es2022", "module": "commonjs", "esmoduleinterop": true, "forceconsistentcasinginfilenames": true, "strict": true, "strictpropertyinitialization": false, // reset camera "skiplibcheck": true, "types": ["@webgpu/types"] }, }</file></source>